{"type": "root", "attrs": {"type": "vex", "context": "all", "tags": "shading", "group": "shading", "showtags": "true"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["refract"], "extent": [0, 12]}, {"type": "summary", "indent": 0, "text": ["Returns the refraction ray given an incoming direction, the\nnormalized normal and an index of refraction."], "extent": [70, 183]}, {"type": "usage_group", "body": [{"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["vector refract(vector direction, vector normal, float index)"]}], "role": "item", "extent": [183, 255]}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["Returns the refraction ray given an incoming ", {"type": "var", "text": ["direction"]}, ", the\nnormalized ", {"type": "var", "text": ["normal"]}, " and an ", {"type": "var", "text": ["index"]}, " of refraction."], "extent": [255, 374]}, {"type": "para", "indent": 0, "text": ["The ", {"type": "var", "text": ["index"]}, " is a relative index of refraction, the ratio between\nthe interior and exterior index of refraction, where the exterior\nis defined by the direction of the normals (normals point away from\nthe interior)."], "extent": [374, 591]}, {"type": "para", "indent": 0, "text": ["In the case of total internal reflection, this function returns the\nreflection vector."], "extent": [591, 679]}, {"type": "para", "indent": 0, "text": ["For example:"], "extent": [679, 693]}, {"lang": "vex", "type": "pre", "indent": 0, "text": ["\nrefract(normalize(I), normalize(N), outside_to_inside_ior)\n"], "extent": [693, 766]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [766, 776], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/fresnel", "type": "link", "text": "", "fallback_text": "fresnel()", "fullpath": "/vex/functions/fresnel.html"}], "extent": [776, 793]}], "container": true}], "text": "Related"}], "title": ["refract"], "summary": ["Returns the refraction ray given an incoming direction, the\nnormalized normal and an index of refraction."]}