{"type": "root", "attrs": {"type": "vex", "context": "all", "tags": "prim, create", "group": "geo", "showtags": "true"}, "body": [{"level": 0, "type": "title", "indent": 0, "text": ["addprim"], "extent": [0, 12]}, {"type": "summary", "indent": 0, "text": ["Adds a primitive to the geometry."], "extent": [71, 112]}, {"type": "usage_group", "body": [{"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["int addprim(int geohandle, string type)"]}], "role": "item", "extent": [112, 163], "body": [{"type": "para", "indent": 4, "text": ["Create a polygon or polyline without any points. You can then add vertices to the primitive with ", {"scheme": "Vex", "value": "/vex/functions/addvertex", "type": "link", "text": "", "fallback_text": "addvertex()", "fullpath": "/vex/functions/addvertex.html"}, "."], "extent": [163, 286]}, {"type": "para", "indent": 4, "text": ["Make sure to add at least one vertex to the created primitive. While we attempt to make sure Houdini\u2019s code can deal with empty polygons, it\u2019s possible they could cause strange results or failures."], "extent": [286, 489]}], "container": true}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["int addprim(int geohandle, string type, int pt0)"]}], "role": "item", "extent": [489, 548]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["int addprim(int geohandle, string type, int pt0, int pt1)"]}], "role": "item", "extent": [548, 616]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["int addprim(int geohandle, string type, int pt0, int pt1, int pt2)"]}], "role": "item", "extent": [616, 693]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["int addprim(int geohandle, string type, int pt0, int pt1, int pt2, int pt3)"]}], "role": "item", "extent": [693, 779]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["int addprim(int geohandle, string type, int pt0, int pt1, int pt2, int pt3, int pt4, int pt5, int pt6, int pt7)"]}], "role": "item", "extent": [779, 902], "body": [{"type": "para", "indent": 4, "text": ["Create a primitive using points specified by point numbers."], "extent": [902, 967]}], "container": true}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["int addprim(int geohandle, string type, int points[])"]}], "role": "item", "extent": [967, 1032], "body": [{"type": "para", "indent": 4, "text": ["Create a primitive using points specified in an array of point numbers."], "extent": [1032, 1109]}], "container": true}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["void addprim(int &prim_num, int geohandle, string type, int pt0, int &vertices[])"]}], "role": "item", "extent": [1109, 1201]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["void addprim(int &prim_num, int geohandle, string type, int pt0, int pt1, int &vertices[])"]}], "role": "item", "extent": [1201, 1302]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["void addprim(int &prim_num, int geohandle, string type, int pt0, int pt1, int pt2, int &vertices[])"]}], "role": "item", "extent": [1302, 1412]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["void addprim(int &prim_num, int geohandle, string type, int pt0, int pt1, int pt2, int pt3, int &vertices[])"]}], "role": "item", "extent": [1412, 1531]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["void addprim(int &prim_num, int geohandle, string type, int pt0, int pt1, int pt2, int pt3, int pt4, int pt5, int pt6, int pt7, int &vertices[])"]}], "role": "item", "extent": [1531, 1686]}, {"ext": null, "type": "usage", "indent": 0, "text": [" ", {"type": "code", "text": ["void addprim(int &prim_num, int geohandle, string type, int points[], int &vertices[])"]}], "role": "item", "extent": [1686, 1784], "body": [{"type": "para", "indent": 4, "text": ["These signatures fill the given ", {"type": "code", "text": ["vertices"]}, " array with the new primitive\u2019s vertex numbers corresponding to the given points. You can use these numbers with ", {"scheme": "Vex", "value": "/vex/functions/setvertexattrib", "type": "link", "text": "", "fallback_text": "setvertexattrib()", "fullpath": "/vex/functions/setvertexattrib.html"}, " to set attributes on the vertices, however they may not be the final numbers of the vertices."], "extent": [1784, 2064]}, {"type": "para", "indent": 4, "text": ["If the primitive was created, but any points were invalid, the corresponding vertex numbers in the array will be ", {"type": "code", "text": ["-1"]}, "."], "extent": [2064, 2192]}, {"type": "para", "indent": 4, "text": ["These signatures overwrite the ", {"type": "code", "text": ["primnum"]}, " variable with the new primitive number instead of returning it."], "extent": [2192, 2302]}], "container": true}], "container": true, "role": "item_group"}, {"type": "arg_group", "body": [{"ext": null, "type": "arg", "indent": 0, "text": {"type": "code", "text": {"type": "code", "text": ["geohandle"]}}, "role": "item", "extent": [1053, 1069], "body": [{"type": "para", "indent": 4, "text": ["A handle to the geometry to write to. Currently the only valid value is ", {"type": "code", "text": ["0"]}, " or ", {"scheme": "Vex", "value": "/vex/functions/geoself", "type": "link", "text": "", "fallback_text": "geoself()", "fullpath": "/vex/functions/geoself.html"}, ", which means the current geometry in a node. (This argument may be used in the future to allow writing to other geometries.)"], "extent": [1097, 1320]}], "container": true, "attrs": {"id": "geohandle_arg"}}, {"ext": null, "type": "arg", "indent": 0, "text": {"type": "code", "text": ["type"]}, "role": "item", "extent": [2335, 2346], "body": [{"type": "para", "indent": 4, "text": ["One of the following strings:"], "extent": [2346, 2381]}, {"type": "table", "thead": [], "body": [{"type": "row", "body": [{"type": "cell", "indent": 4, "text": [{"type": "code", "text": ["\"poly\""]}, " "], "role": "td", "extent": [2381, 2396], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Closed polygon. Can use 0 or more points."], "extent": [2396, 2447]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": [{"type": "code", "text": ["\"polyline\""]}, " "], "role": "td", "extent": [2447, 2466], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Open polygon. Can use 0 or more points."], "extent": [2466, 2515]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": [{"type": "code", "text": ["\"tet\""]}, " "], "role": "td", "extent": [2515, 2529], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Tetrahedron primitive.  A triangular pyramid.  Requires exactly 4 points.  You cannot add vertices to this primitive."], "extent": [2529, 2656]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": [{"type": "q", "text": ["hex"]}, " "], "role": "td", "extent": [2656, 2668], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Hexahedron primitive.  A distorted cube.  Requires eactly 8 points.  You cannot add vertices to this primitive."], "extent": [2668, 2789]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": [{"type": "code", "text": ["\"sphere\""]}, ", ", {"type": "code", "text": ["\"circle\""]}, ", ", {"type": "code", "text": ["\"tube\""]}, ", ", {"type": "code", "text": ["\"metaball\""]}, ", ", {"type": "code", "text": ["\"metasquad\""]}, " "], "role": "td", "extent": [2789, 2857], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Sphere, circle, tube, metaball, or metasuperquadric primitive.  The radius and shape are controled by transform primitive intrinsics.  Require exactly 1 point. You cannot add vertices to these primitives."], "extent": [2857, 3071]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": [{"type": "code", "text": ["\"channel\""]}, " "], "role": "td", "extent": [3071, 3089], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Channel Primitive. Stores channel data in a primitive. Can use 0 or more points."], "extent": [3089, 3179]}]}], "divider": false}, {"type": "row", "body": [{"type": "cell", "indent": 4, "text": [{"type": "code", "text": ["\"AlembicRef\""]}, ", ", {"type": "code", "text": ["\"PackedDisk\""]}, " "], "role": "td", "extent": [3179, 3216], "container": true}, {"type": "cell", "role": "td", "body": [{"type": "para", "indent": 8, "text": ["Packed Alembic or packed disk primitive.  Require exactly 1 point. You cannot add vertices to these primitives."], "extent": [3216, 3337]}]}], "divider": false}]}], "container": true}, {"ext": null, "type": "arg", "indent": 0, "role": "item", "extent": [3337, 3347], "body": [{"type": "para", "indent": 4, "text": ["A primitive number for the created primitive, or ", {"type": "code", "text": ["-1"]}, " if the point could not be created."], "extent": [3347, 3445]}, {"type": "para", "indent": 4, "text": ["You can use the return value with ", {"scheme": "Vex", "value": "/vex/functions/setprimattrib", "type": "link", "text": "", "fallback_text": "setprimattrib()", "fullpath": "/vex/functions/setprimattrib.html"}, " to set attributes on the new point, however it may not be the final number of the point."], "extent": [3445, 3593]}], "container": true, "returns": true}], "container": true, "role": "item_group"}, {"type": "para", "indent": 0, "text": ["You can set a primitive\u2019s transforms using ", {"scheme": "Vex", "value": "/vex/functions/setprimintrinsic", "type": "link", "text": "", "fallback_text": "setprimintrinsic()", "fullpath": "/vex/functions/setprimintrinsic.html"}, ", for example:"], "extent": [3593, 3682]}, {"lang": "vex", "type": "pre", "indent": 0, "text": ["\nmatrix3 transform_value = {{0, 0, 0}, {0, 0, 0}, {1, 1, 1}};\nsetprimintrinsic(geoself(), \"transform\", prim, transform_value);\n"], "extent": [3682, 3822]}, {"type": "para", "indent": 0, "text": ["You can also set Alembic and packed primitive intrinsics, for example:"], "extent": [3822, 3895]}, {"lang": "vex", "type": "pre", "indent": 0, "text": ["\nsetprimintrinsic(geoself(), \"unexpandedfilename\", prim, \"test.bgeo\");`\n"], "extent": [3895, 3980]}, {"level": 1, "id": "related", "container": true, "type": "related_section", "indent": 0, "role": "section", "extent": [3980, 3991], "body": [{"type": "bullet_group", "body": [{"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/addvertex", "type": "link", "text": "", "fallback_text": "addvertex()", "fullpath": "/vex/functions/addvertex.html"}], "extent": [3991, 4010]}, {"blevel": 2, "type": "bullet", "indent": 0, "text": [{"scheme": "Vex", "value": "/vex/functions/addpoint", "type": "link", "text": "", "fallback_text": "addpoint()", "fullpath": "/vex/functions/addpoint.html"}], "extent": [4010, 4028]}], "container": true}], "text": "Related"}], "title": ["addprim"], "summary": ["Adds a primitive to the geometry."], "included": ["/vex/functions/_common"]}